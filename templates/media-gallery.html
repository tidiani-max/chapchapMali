
<div class="media-gallery">
    <h1>Media Gallery</h1>
    <div class="product-grid">
        {% for product in products %}
        <div class="product-card">
            <h2>{{ product.name }}</h2>
            <p>{{ product.description|truncatewords:20 }}</p>
            <p><strong>Price:</strong> ${{ product.price }}</p>
            
            <!-- Display the first image or video -->
            {% if product.photos.all|length > 0 %}
            <img src="{{ product.photos.all.0.image.url }}" alt="{{ product.name }} Photo">
            {% elif product.videos.all|length > 0 %}
            <video controls>
                <source src="{{ product.videos.all.0.video.url }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            {% else %}
            <p>No media available</p>
            {% endif %}

            <!-- Link to Product Details -->
            <a href="{% url 'product_detail' product.id %}" class="btn btn-primary">View Details</a>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .media-gallery {
        padding: 20px;
    }

    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
    }

    .product-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .product-card img, .product-card video {
        width: 100%;
        border-radius: 4px;
    }
</style>
